<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.mk.taskfactory.biz.mapper.ots.SyServDictItemMapper">
    <resultMap id="BaseResultMap" type="com.mk.taskfactory.model.SyServDictItem">
        <id column="item_id" property="itemId" />
        <result column="dict_id" property="dictId" />
        <result column="item_code" property="itemCode" />
        <result column="item_name" property="itemName" />
        <result column="item_pcode" property="itemPcode" />
        <result column="item_order" property="itemOrder" />
        <result column="item_flag" property="itemFlag" />
        <result column="item_img" property="itemImg" />
        <result column="item_leaf" property="itemLeaf" />
        <result column="item_field1" property="itemField1" />
        <result column="item_field2" property="itemField2" />
        <result column="s_public" property="sPublic" />
        <result column="s_cmpy" property="sCmpy" />
        <result column="code_path" property="codePath" />
        <result column="item_level" property="itemLevel" />
    </resultMap>

    <sql id="Base_Column_List">
        item_id, dict_id, item_code, item_name, item_pcode,
        item_order, item_flag,item_img,item_leaf,
        item_field1,item_field2,s_public,s_cmpy,code_path,item_level
    </sql>

    <sql id="Base_Query_List">
        <where>
            <if test="itemId != null">
                item_id = #{itemId}
            </if>
            <if test="dictId != null">
                AND dict_id = #{dictId}
            </if>
            <if test="itemCode != null">
                AND item_code = #{itemCode}
            </if>
            <if test="itemName != null">
                AND item_name = #{itemName}
            </if>
            <if test="itemPcode != null">
                AND item_pcode = #{itemPcode}
            </if>
            <if test="itemOrder != null">
                AND item_order = #{itemOrder}
            </if>
            <if test="itemFlag != null">
                AND item_flag = #{itemFlag}
            </if>
            <if test="itemLeaf != null">
                AND item_leaf = #{itemLeaf}
            </if>
        </where>
    </sql>
    <select id="queryByParams" resultMap="BaseResultMap" parameterType="com.mk.taskfactory.api.dtos.SyServDictItemDto">
        SELECT
        <include refid="Base_Column_List"/>
        FROM sy_serv_dict_item
        <include refid="Base_Query_List"/>
        ORDER BY item_code DESC
    </select>

</mapper>